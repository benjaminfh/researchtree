# Default provider when the UI/server doesn't specify one.
# Must be enabled via LLM_ENABLE_*.
LLM_DEFAULT_PROVIDER=openai_responses

# Deployment environment.
# - dev: allows dev-only providers (e.g. mock)
# - prod: hides/disables dev-only providers
DEPLOY_ENV=dev
OPENAI_API_KEY=sk-...
OPENAI_MODEL=gpt-5.2
# Toggle OpenAI Responses API usage (maps openai -> openai_responses internally).
# Default is true when unset.
OPENAI_USE_RESPONSES=true
GEMINI_API_KEY=gemini-
GEMINI_MODEL=gemini-3-pro-preview
ANTHROPIC_API_KEY=claude-
ANTHROPIC_MODEL=claude-4-5-sonnet-latest
ANTHROPIC_BETA=

# Provider enable toggles
LLM_ENABLE_OPENAI=true
LLM_ENABLE_GEMINI=true
LLM_ENABLE_ANTHROPIC=false

# Allowed models (comma-separated). If unset/empty, any model is allowed.
LLM_ALLOWED_MODELS_OPENAI=
LLM_ALLOWED_MODELS_GEMINI=
LLM_ALLOWED_MODELS_ANTHROPIC=
RESEARCHTREE_PROJECTS_ROOT=data/projects

NEXT_PUBLIC_SUPABASE_URL=https://<project-ref>.supabase.co
NEXT_PUBLIC_SUPABASE_ANON_KEY=eyJ...
SUPABASE_SERVICE_ROLE_KEY=eyJ...  # server-only (migration/backfill), do not expose to client

# Public app origin used to build auth email redirects (signup confirm, password reset).
# Examples:
# - local dev: http://localhost:3000
# - production: https://threds.dev
RT_APP_ORIGIN=http://localhost:3000

# Auth gate (waitlist/allowlist)
# - When enabled, only allowlisted emails can sign up/sign in.
RT_WAITLIST_ENFORCE=true
# - Comma-separated list of admin Supabase user UUIDs allowed to manage `/admin/waitlist`.
RT_ADMIN_USER_IDS=00000000-0000-0000-0000-000000000000

# Maintenance mode (blocks all routes when enabled).
RT_MAINTENANCE_MODE=false

# Store (provenance)
# - `git`: provenance stored in on-disk git repos
# - `pg`: provenance stored in Supabase Postgres
RT_STORE=pg

# Postgres adapter selection
# - `supabase`: use Supabase PostgREST (default)
# - `local`: use a direct Postgres connection (requires LOCAL_PG_URL and no Supabase env vars)
RT_PG_ADAPTER=supabase
# Example for Postgres.app: database defaults to your macOS username.
LOCAL_PG_URL=postgresql://localhost:5432/youruser
# The app always creates/uses the `threds` database.
# Toggle automatic local migration bootstrap (default true).
RT_PG_BOOTSTRAP=1

# Canvas tool loop (server-side)
RT_CANVAS_TOOLS=false

# Attribution for merge summary messages injected into LLM context.
# Must be `user` or `assistant`.
MERGE_USER=assistant

NEXT_PUBLIC_RT_UI_EDIT_ANY_MESSAGE=true
NEXT_PUBLIC_RT_UI_ATTACHMENTS=false
NEXT_PUBLIC_RT_UI_RAIL_BRANCH_CREATOR=false
# Collapsed graph branch display: show first+last nodes created on branch.
NEXT_PUBLIC_RT_UI_COLLAPSED_BRANCH_TWO_NODES=true
# Graph edge routing: spline (default) or orthogonal
NEXT_PUBLIC_RT_GRAPH_EDGE_STYLE=orthogonal

# UI branding
# - Used for display (headers, login, <title>, etc.)
NEXT_PUBLIC_APP_NAME=threds
# - Used for stable key prefixes (e.g. localStorage). Defaults to NEXT_PUBLIC_APP_NAME.
NEXT_PUBLIC_APP_ID=threds
# - UI label for the trunk branch (e.g. trunk/main).
NEXT_PUBLIC_RT_TRUNK_LABEL=main
# Auto-follow resume debounce (ms) when user scrolls back near the bottom during streaming.
NEXT_PUBLIC_AUTO_FOLLOW_RESUME_DELAY_MS=400
